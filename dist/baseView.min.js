!function(i,s,e){"use strict";i.wk=i.wk||{};var t=i.wk.getTemplate,n=0,o=e.app&&e.app.$document||i(document);$window=e.app&&e.app.$window||i(e),i.wk.baseView=s.View.extend({constructor:function(){this.subviews={},this.noModelViewCounter=0,s.View.apply(this,arguments)},close:function(i){i||this.trigger("manualClosing"),this.hasSubviews()&&_.each(this.subviews,function(i){i.close("parentInitiated")}),this.ens&&(o.off(this.ens),$window.off(this.ens)),this.remove()},closeSubviews:function(){this.hasSubviews()&&(_.each(this.subviews,function(i){i.close("parentInitiated")}),this.subviews={})},addSubview:function(i){var e=this;return i.model?this.subviews[i.model.cid]=i:this.subviews["noModelView"+ ++this.noModelViewCounter]=i,i.on("manualClosing",function(){delete e.subviews[i.model.cid]}),i},removeSubview:function(i){return this.subviews[i.cid]?(this.subviews[i.cid].close("parentInitiated"),void delete this.subviews[i.cid]):!1},getSubview:function(i){return this.subviews[i.cid]?this.subviews[i.cid]:!1},hasSubviews:function(){return _.size(this.subviews)>0?!0:!1},loadingOn:function(){this.$loadingHtml=this.$loadingHtml||i('<div class="loader"><span class="graphics">Loading</span></div>').appendTo(this.$el),this.$loading_html.addClass("on")},loadingOff:function(){this.$loadingHtml&&this.$loadingHtml.removeClass("on")},setupEventNamespace:function(){this.ens=this.ens||".view"+ ++n},getTemplate:function(s,n,i){var e=this;this.templates=this.templates||{};var o=t(n,function(t){e.templates[s]=t,i&&i.call(e,t)});return o}})}(window.jQuery,window.Backbone,window);