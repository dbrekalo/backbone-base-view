!function(i,e){i.wk=i.wk||{};var s=i.wk.getTemplate;i.wk.baseView=e.View.extend({constructor:function(){this.subviews={},this.noModelViewCounter=0,e.View.apply(this,arguments)},close:function(i){i||this.trigger("manualClosing"),this.hasSubviews()&&_.each(this.subviews,function(i){i.close("parentInitiated")}),this.remove()},closeSubviews:function(){this.hasSubviews()&&(_.each(this.subviews,function(i){i.close("parentInitiated")}),this.subviews={})},addSubview:function(i){var e=this;return i.model?this.subviews[i.model.cid]=i:this.subviews["noModelView"+ ++this.noModelViewCounter]=i,i.on("manualClosing",function(){delete e.subviews[i.model.cid]}),i},removeSubview:function(i){return this.subviews[i.cid]?(this.subviews[i.cid].close("parentInitiated"),void delete this.subviews[i.cid]):!1},getSubview:function(i){return this.subviews[i.cid]?this.subviews[i.cid]:!1},hasSubviews:function(){return _.size(this.subviews)>0?!0:!1},loadingOn:function(){this.$loadingHtml=this.$loadingHtml||i('<div class="loader"><span class="graphics">Loading</span></div>').appendTo(this.$el),this.$loading_html.addClass("on")},loadingOff:function(){this.$loadingHtml&&this.$loadingHtml.removeClass("on")},getTemplate:function(t,n,i){var e=this;this.templates=this.templates||{};var o=s(n,function(s){e.templates[t]=s,i&&i.call(e,s)});return o}})}(jQuery,Backbone);